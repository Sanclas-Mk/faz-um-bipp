import{x as k,Q as V,d as u,o,c as P,w as C,b as m,u as r,Z as T,a as t,j as I,m as d,J as j,q as z,e as i,f as D,K as U,h as p,F as g,t as _,v as q,O as B}from"./app-Nlc2DKFf.js";import{_ as F}from"./AppLayout-BA9_s6zo.js";import{_ as M}from"./EditorText-DROkbmGA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex lg:justify-center"},E={class:"mt-6"},H=t("label",{class:"text-[18px] py-2 flex",for:"title"},null,-1),N=t("label",{for:"image",class:"bg-violet-200 text-violet-700 p-2 ml-3 rounded"},"Escolher Imagem Principal",-1),$={key:0,class:"mt-2"},A=["src"],L={class:"mt-28"},O=t("div",{class:"mb-4"},[t("button",{class:"bg-blue-400 py-1 px-3 mr-3 text-[18px] text-white rounded-sm hover:bg-blue-500",type:"submit"}," Publicar ")],-1),R=t("label",{for:"category",class:"text-[18px] py-2 flex text-azul font-semibold"},"Categoria:",-1),J=["value"],K=t("label",{for:"tags",class:"text-[18px] py-2 flex text-azul font-semibold"},"Tags:",-1),Q=["id","value"],Z=["for"],te={__name:"create",setup(G){const e=k({image:null,title:null,content:"",imagePreview:null,category_id:null,selectedTags:[]}),{tags:f,categories:x}=V().props,n=u("auto"),c=u(null),v=()=>{n.value="auto",n.value=`${c.value.scrollHeight}px`},h=s=>{const l=s.target.files[0];e.image=l,b(l)},b=s=>{const l=new FileReader;l.onload=a=>{e.imagePreview=a.target.result},l.readAsDataURL(s)};function y(){if(!e.title||!e.content||!e.category_id)return;const s=new FormData;s.append("title",e.title),s.append("content",e.content),s.append("image",e.image),s.append("category_id",e.category_id),e.selectedTags.forEach(l=>{s.append("tags[]",l)}),B.post("/articles",s)}return(s,l)=>(o(),P(F,null,{default:C(()=>[m(r(T),{title:"Criando Artigo"}),t("div",S,[t("form",{onSubmit:I(y,["prevent"]),class:"flex space-x-10"},[t("div",null,[t("div",E,[H,d(t("textarea",{class:"w-full py-6 text-[40px] placeholder:text-slate-400 border-none rounded-t-md focus:outline-none focus:ring-transparent resize-none ls-textarea-autoresize overflow-y-hidden leading-none","onUpdate:modelValue":l[0]||(l[0]=a=>e.title=a),name:"title",id:"titleId",placeholder:"Insira o tÃ­tulo do post aqui...",onInput:v,rows:"1",style:z({height:n.value}),ref_key:"textarea",ref:c,maxlength:"100",required:""},null,36),[[j,e.title]])]),t("div",null,[N,t("input",{type:"file",name:"image",id:"image",class:"hidden",onChange:h},null,32)]),e.imagePreview?(o(),i("div",$,[t("img",{class:"h-[300px] w-[670px] object-cover ml-3",src:e.imagePreview,alt:"Preview da imagem"},null,8,A)])):D("",!0),m(M,{class:"pb-10 text-justify",modelValue:e.content,"onUpdate:modelValue":l[1]||(l[1]=a=>e.content=a)},null,8,["modelValue"])]),t("div",L,[O,t("div",null,[R,d(t("select",{"onUpdate:modelValue":l[2]||(l[2]=a=>e.category_id=a),id:"category",class:"w-[220px] border-blue-400",required:""},[(o(!0),i(g,null,p(r(x),a=>(o(),i("option",{key:a.id,value:a.id,class:""},_(a.name),9,J))),128))],512),[[U,e.category_id]])]),t("div",null,[K,(o(!0),i(g,null,p(r(f),a=>(o(),i("div",{key:a.id},[d(t("input",{type:"checkbox",id:"tag_"+a.id,value:a.id,"onUpdate:modelValue":l[3]||(l[3]=w=>e.selectedTags=w)},null,8,Q),[[q,e.selectedTags]]),t("label",{class:"pl-3",for:"tag_"+a.id},_(a.name),9,Z)]))),128))])])],32)])]),_:1}))}};export{te as default};
